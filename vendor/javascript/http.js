import{d as e}from"../../_/BbZxKIaC.js";import"../../_/uCGwUY6E.js";import{y as t}from"../../_/BmrxORgg.js";import{d as r}from"../../_/C7GZrc4O.js";import"../../_/DcXKUB9M.js";import{X as n}from"../../_/DIT-oeS_.js";import{p as a}from"../../_/K0DDDZy7.js";import{d as i}from"../../_/C2hkKTTA.js";import{e as o}from"../../_/8HqGYODu.js";import{h as s}from"../../_/MKtoJqcs.js";import"../../_/I5E9Rhyf.js";var l={},u=false;var f=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;function dew$k(){if(u)return l;u=true;l.fetch=isFunction(f.fetch)&&isFunction(f.ReadableStream);l.writableStream=isFunction(f.WritableStream);l.abortController=isFunction(f.AbortController);var e;function getXHR(){if(e!==void 0)return e;if(f.XMLHttpRequest){e=new f.XMLHttpRequest;try{e.open("GET",f.XDomainRequest?"/":"https://example.com")}catch(t){e=null}}else e=null;return e}function checkTypeSupport(e){var t=getXHR();if(!t)return false;try{t.responseType=e;return t.responseType===e}catch(e){}return false}l.arraybuffer=l.fetch||checkTypeSupport("arraybuffer");l.msstream=!l.fetch&&checkTypeSupport("ms-stream");l.mozchunkedarraybuffer=!l.fetch&&checkTypeSupport("moz-chunked-arraybuffer");l.overrideMimeType=l.fetch||!!getXHR()&&isFunction(getXHR().overrideMimeType);function isFunction(e){return typeof e==="function"}e=null;return l}var d={},c=false;function dew$j(){if(c)return d;c=true;d=t.EventEmitter;return d}var h={},p=false;function dew$i(){if(p)return h;p=true;function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){t=_toPropertyKey(t);t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){t&&_defineProperties(e.prototype,t);Object.defineProperty(e,"prototype",{writable:false});return e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t==="symbol"?t:String(t)}function _toPrimitive(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e=r(),t=e.Buffer;var a=n,i=a.inspect;var o=i&&i.custom||"inspect";function copyBuffer(e,r,n){t.prototype.copy.call(e,r,n)}h=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}_createClass(BufferList,[{key:"push",value:function push(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t;this.tail=t;++this.length}},{key:"unshift",value:function unshift(e){var t={data:e,next:this.head};this.length===0&&(this.tail=t);this.head=t;++this.length}},{key:"shift",value:function shift(){if(this.length!==0){var e=this.head.data;this.length===1?this.head=this.tail=null:this.head=this.head.next;--this.length;return e}}},{key:"clear",value:function clear(){this.head=this.tail=null;this.length=0}},{key:"join",value:function join(e){if(this.length===0)return"";var t=this.head;var r=""+t.data;while(t=t.next)r+=e+t.data;return r}},{key:"concat",value:function concat(e){if(this.length===0)return t.alloc(0);var r=t.allocUnsafe(e>>>0);var n=this.head;var a=0;while(n){copyBuffer(n.data,r,a);a+=n.data.length;n=n.next}return r}},{key:"consume",value:function consume(e,t){var r;if(e<this.head.data.length){r=this.head.data.slice(0,e);this.head.data=this.head.data.slice(e)}else r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e);return r}},{key:"first",value:function first(){return this.head.data}},{key:"_getString",value:function _getString(e){var t=this.head;var r=1;var n=t.data;e-=n.length;while(t=t.next){var a=t.data;var i=e>a.length?a.length:e;i===a.length?n+=a:n+=a.slice(0,e);e-=i;if(e===0){if(i===a.length){++r;t.next?this.head=t.next:this.head=this.tail=null}else{this.head=t;t.data=a.slice(i)}break}++r}this.length-=r;return n}},{key:"_getBuffer",value:function _getBuffer(e){var r=t.allocUnsafe(e);var n=this.head;var a=1;n.data.copy(r);e-=n.data.length;while(n=n.next){var i=n.data;var o=e>i.length?i.length:e;i.copy(r,r.length-e,0,o);e-=o;if(e===0){if(o===i.length){++a;n.next?this.head=n.next:this.head=this.tail=null}else{this.head=n;n.data=i.slice(o)}break}++a}this.length-=a;return r}},{key:o,value:function value(e,t){return i(this,_objectSpread(_objectSpread({},t),{},{depth:0,customInspect:false}))}}]);return BufferList}();return h}var b={},y=false;function dew$h(){if(y)return b;y=true;var e=a;function destroy(t,r){var n=this;var a=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(a||i){if(r)r(t);else if(t)if(this._writableState){if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;e.nextTick(emitErrorNT,this,t)}}else e.nextTick(emitErrorNT,this,t);return this}this._readableState&&(this._readableState.destroyed=true);this._writableState&&(this._writableState.destroyed=true);this._destroy(t||null,(function(t){if(!r&&t)if(n._writableState)if(n._writableState.errorEmitted)e.nextTick(emitCloseNT,n);else{n._writableState.errorEmitted=true;e.nextTick(emitErrorAndCloseNT,n,t)}else e.nextTick(emitErrorAndCloseNT,n,t);else if(r){e.nextTick(emitCloseNT,n);r(t)}else e.nextTick(emitCloseNT,n)}));return this}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t);emitCloseNT(e)}function emitCloseNT(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy(e,t){var r=e._readableState;var n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}b={destroy:destroy,undestroy:undestroy,errorOrDestroy:errorOrDestroy};return b}var v={},g=false;function dew$g(){if(g)return v;g=true;const e={};function createErrorType(t,r,n){n||(n=Error);function getMessage(e,t,n){return typeof r==="string"?r:r(e,t,n)}class NodeError extends n{constructor(e,t,r){super(getMessage(e,t,r))}}NodeError.prototype.name=n.name;NodeError.prototype.code=t;e[t]=NodeError}function oneOf(e,t){if(Array.isArray(e)){const r=e.length;e=e.map((e=>String(e)));return r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:r===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}function startsWith(e,t,r){return e.substr(0,t.length)===t}function endsWith(e,t,r){(r===void 0||r>e.length)&&(r=e.length);return e.substring(r-t.length,r)===t}function includes(e,t,r){typeof r!=="number"&&(r=0);return!(r+t.length>e.length)&&e.indexOf(t,r)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError);createErrorType("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;if(typeof t==="string"&&startsWith(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else n="must be";let a;if(endsWith(e," argument"))a=`The ${e} ${n} ${oneOf(t,"type")}`;else{const r=includes(e,".")?"property":"argument";a=`The "${e}" ${r} ${n} ${oneOf(t,"type")}`}a+=". Received type "+typeof r;return a}),TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"}));createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"}));createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");v.codes=e;return v}var m={},_=false;function dew$f(){if(_)return m;_=true;var e=dew$g().codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function getHighWaterMark(t,r,n,a){var i=highWaterMarkFrom(r,a,n);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=a?n:"highWaterMark";throw new e(o,i)}return Math.floor(i)}return t.objectMode?16:16384}m={getHighWaterMark:getHighWaterMark};return m}var w={},R=false;var S=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;function dew$e(){if(R)return w;R=true;var t=a;w=Writable;function CorkedRequest(e){var t=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(t,e)}}var n;Writable.WritableState=WritableState;var o={deprecate:i()};var s=dew$j();var l=r().Buffer;var u=(typeof S!=="undefined"?S:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(e){return l.from(e)}function _isUint8Array(e){return l.isBuffer(e)||e instanceof u}var f=dew$h();var d=dew$f(),c=d.getHighWaterMark;var h=dew$g().codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,m=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,T=h.ERR_UNKNOWN_ENCODING;var E=f.errorOrDestroy;e()(Writable,s);function nop(){}function WritableState(e,t,r){n=n||dew$d();e=e||{};typeof r!=="boolean"&&(r=t instanceof n);this.objectMode=!!e.objectMode;r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);this.highWaterMark=c(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var a=e.decodeStrings===false;this.decodeStrings=!a;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){onwrite(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var e=this.bufferedRequest;var t=[];while(e){t.push(e);e=e.next}return t};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:o.deprecate((function writableStateBufferGetter(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}})();var k;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){k=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function value(e){return!!k.call(this,e)||this===Writable&&(e&&e._writableState instanceof WritableState)}})}else k=function realHasInstance(e){return e instanceof this};function Writable(e){n=n||dew$d();var t=this instanceof n;if(!t&&!k.call(Writable,this))return new Writable(e);this._writableState=new WritableState(e,this,t);this.writable=true;if(e){typeof e.write==="function"&&(this._write=e.write);typeof e.writev==="function"&&(this._writev=e.writev);typeof e.destroy==="function"&&(this._destroy=e.destroy);typeof e.final==="function"&&(this._final=e.final)}s.call(this)}Writable.prototype.pipe=function(){E(this,new v)};function writeAfterEnd(e,r){var n=new _;E(e,n);t.nextTick(r,n)}function validChunk(e,r,n,a){var i;n===null?i=new m:typeof n==="string"||r.objectMode||(i=new p("chunk",["string","Buffer"],n));if(i){E(e,i);t.nextTick(a,i);return false}return true}Writable.prototype.write=function(e,t,r){var n=this._writableState;var a=false;var i=!n.objectMode&&_isUint8Array(e);i&&!l.isBuffer(e)&&(e=_uint8ArrayToBuffer(e));if(typeof t==="function"){r=t;t=null}i?t="buffer":t||(t=n.defaultEncoding);typeof r!=="function"&&(r=nop);if(n.ending)writeAfterEnd(this,r);else if(i||validChunk(this,n,e,r)){n.pendingcb++;a=writeOrBuffer(this,n,i,e,t,r)}return a};Writable.prototype.cork=function(){this._writableState.corked++};Writable.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){typeof e==="string"&&(e=e.toLowerCase());if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new T(e);this._writableState.defaultEncoding=e;return this};Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});function decodeChunk(e,t,r){e.objectMode||e.decodeStrings===false||typeof t!=="string"||(t=l.from(t,r));return t}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});function writeOrBuffer(e,t,r,n,a,i){if(!r){var o=decodeChunk(t,n,a);if(n!==o){r=true;a="buffer";n=o}}var s=t.objectMode?1:n.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=true);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null};u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest;t.bufferedRequestCount+=1}else doWrite(e,t,false,s,n,a,i);return l}function doWrite(e,t,r,n,a,i,o){t.writelen=n;t.writecb=o;t.writing=true;t.sync=true;t.destroyed?t.onwrite(new g("write")):r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite);t.sync=false}function onwriteError(e,r,n,a,i){--r.pendingcb;if(n){t.nextTick(i,a);t.nextTick(finishMaybe,e,r);e._writableState.errorEmitted=true;E(e,a)}else{i(a);e._writableState.errorEmitted=true;E(e,a);finishMaybe(e,r)}}function onwriteStateUpdate(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function onwrite(e,r){var n=e._writableState;var a=n.sync;var i=n.writecb;if(typeof i!=="function")throw new y;onwriteStateUpdate(n);if(r)onwriteError(e,n,a,r,i);else{var o=needFinish(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||clearBuffer(e,n);a?t.nextTick(afterWrite,e,n,o,i):afterWrite(e,n,o,i)}}function afterWrite(e,t,r,n){r||onwriteDrain(e,t);t.pendingcb--;n();finishMaybe(e,t)}function onwriteDrain(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function clearBuffer(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var a=new Array(n);var i=t.corkedRequestsFree;i.entry=r;var o=0;var s=true;while(r){a[o]=r;r.isBuf||(s=false);r=r.next;o+=1}a.allBuffers=s;doWrite(e,t,true,t.length,a,"",i.finish);t.pendingcb++;t.lastBufferedRequest=null;if(i.next){t.corkedRequestsFree=i.next;i.next=null}else t.corkedRequestsFree=new CorkedRequest(t);t.bufferedRequestCount=0}else{while(r){var l=r.chunk;var u=r.encoding;var f=r.callback;var d=t.objectMode?1:l.length;doWrite(e,t,false,d,l,u,f);r=r.next;t.bufferedRequestCount--;if(t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r;t.bufferProcessing=false}Writable.prototype._write=function(e,t,r){r(new b("_write()"))};Writable.prototype._writev=null;Writable.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}e!==null&&e!==void 0&&this.write(e,t);if(n.corked){n.corked=1;this.uncork()}n.ending||endWritable(this,n,r);return this};Object.defineProperty(Writable.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function needFinish(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function callFinal(e,t){e._final((function(r){t.pendingcb--;r&&E(e,r);t.prefinished=true;e.emit("prefinish");finishMaybe(e,t)}))}function prefinish(e,r){if(!r.prefinished&&!r.finalCalled)if(typeof e._final!=="function"||r.destroyed){r.prefinished=true;e.emit("prefinish")}else{r.pendingcb++;r.finalCalled=true;t.nextTick(callFinal,e,r)}}function finishMaybe(e,t){var r=needFinish(t);if(r){prefinish(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}}}return r}function endWritable(e,r,n){r.ending=true;finishMaybe(e,r);n&&(r.finished?t.nextTick(n):e.once("finish",n));r.ended=true;e.writable=false}function onCorkedFinish(e,t,r){var n=e.entry;e.entry=null;while(n){var a=n.callback;t.pendingcb--;a(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(Writable.prototype,"destroyed",{enumerable:false,get:function get(){return this._writableState!==void 0&&this._writableState.destroyed},set:function set(e){this._writableState&&(this._writableState.destroyed=e)}});Writable.prototype.destroy=f.destroy;Writable.prototype._undestroy=f.undestroy;Writable.prototype._destroy=function(e,t){t(e)};return w}var T={},E=false;function dew$d(){if(E)return T;E=true;var t=a;var r=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};T=Duplex;var n=dew$9();var i=dew$e();e()(Duplex,n);var o=r(i.prototype);for(var s=0;s<o.length;s++){var l=o[s];Duplex.prototype[l]||(Duplex.prototype[l]=i.prototype[l])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);n.call(this,e);i.call(this,e);this.allowHalfOpen=true;if(e){e.readable===false&&(this.readable=false);e.writable===false&&(this.writable=false);if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",onend)}}}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function get(){return this._writableState.highWaterMark}});Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:false,get:function get(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:false,get:function get(){return this._writableState.length}});function onend(){this._writableState.ended||t.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:false,get:function get(){return this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function set(e){if(this._readableState!==void 0&&this._writableState!==void 0){this._readableState.destroyed=e;this._writableState.destroyed=e}}});return T}var k={},M=false;function dew$c(){if(M)return k;M=true;var e=dew$g().codes.ERR_STREAM_PREMATURE_CLOSE;function once(e){var t=false;return function(){if(!t){t=true;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];e.apply(this,n)}}}function noop(){}function isRequest(e){return e.setHeader&&typeof e.abort==="function"}function eos(t,r,n){if(typeof r==="function")return eos(t,null,r);r||(r={});n=once(n||noop);var a=r.readable||r.readable!==false&&t.readable;var i=r.writable||r.writable!==false&&t.writable;var o=function onlegacyfinish(){t.writable||l()};var s=t._writableState&&t._writableState.finished;var l=function onfinish(){i=false;s=true;a||n.call(t)};var u=t._readableState&&t._readableState.endEmitted;var f=function onend(){a=false;u=true;i||n.call(t)};var d=function onerror(e){n.call(t,e)};var c=function onclose(){var r;if(a&&!u){t._readableState&&t._readableState.ended||(r=new e);return n.call(t,r)}if(i&&!s){t._writableState&&t._writableState.ended||(r=new e);return n.call(t,r)}};var h=function onrequest(){t.req.on("finish",l)};if(isRequest(t)){t.on("complete",l);t.on("abort",c);t.req?h():t.on("request",h)}else if(i&&!t._writableState){t.on("end",o);t.on("close",o)}t.on("end",f);t.on("finish",l);r.error!==false&&t.on("error",d);t.on("close",c);return function(){t.removeListener("complete",l);t.removeListener("abort",c);t.removeListener("request",h);t.req&&t.req.removeListener("finish",l);t.removeListener("end",o);t.removeListener("close",o);t.removeListener("finish",l);t.removeListener("end",f);t.removeListener("error",d);t.removeListener("close",c)}}k=eos;return k}var C={},P=false;function dew$b(){if(P)return C;P=true;var e=a;var t;function _defineProperty(e,t,r){t=_toPropertyKey(t);t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t==="symbol"?t:String(t)}function _toPrimitive(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r=dew$c();var n=Symbol("lastResolve");var i=Symbol("lastReject");var o=Symbol("error");var s=Symbol("ended");var l=Symbol("lastPromise");var u=Symbol("handlePromise");var f=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[n];if(t!==null){var r=e[f].read();if(r!==null){e[l]=null;e[n]=null;e[i]=null;t(createIterResult(r,false))}}}function onReadable(t){e.nextTick(readAndResolve,t)}function wrapForNext(e,t){return function(r,n){e.then((function(){t[s]?r(createIterResult(void 0,true)):t[u](r,n)}),n)}}var d=Object.getPrototypeOf((function(){}));var c=Object.setPrototypeOf((t={get stream(){return this[f]},next:function next(){var t=this;var r=this[o];if(r!==null)return Promise.reject(r);if(this[s])return Promise.resolve(createIterResult(void 0,true));if(this[f].destroyed)return new Promise((function(r,n){e.nextTick((function(){t[o]?n(t[o]):r(createIterResult(void 0,true))}))}));var n=this[l];var a;if(n)a=new Promise(wrapForNext(n,this));else{var i=this[f].read();if(i!==null)return Promise.resolve(createIterResult(i,false));a=new Promise(this[u])}this[l]=a;return a}},_defineProperty(t,Symbol.asyncIterator,(function(){return this})),_defineProperty(t,"return",(function _return(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(createIterResult(void 0,true))}))}))})),t),d);var h=function createReadableStreamAsyncIterator(e){var t;var a=Object.create(c,(t={},_defineProperty(t,f,{value:e,writable:true}),_defineProperty(t,n,{value:null,writable:true}),_defineProperty(t,i,{value:null,writable:true}),_defineProperty(t,o,{value:null,writable:true}),_defineProperty(t,s,{value:e._readableState.endEmitted,writable:true}),_defineProperty(t,u,{value:function value(e,t){var r=a[f].read();if(r){a[l]=null;a[n]=null;a[i]=null;e(createIterResult(r,false))}else{a[n]=e;a[i]=t}},writable:true}),t));a[l]=null;r(e,(function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=a[i];if(t!==null){a[l]=null;a[n]=null;a[i]=null;t(e)}a[o]=e}else{var r=a[n];if(r!==null){a[l]=null;a[n]=null;a[i]=null;r(createIterResult(void 0,true))}a[s]=true}}));e.on("readable",onReadable.bind(null,a));return a};C=h;return C}var A={},O=false;function dew$a(){if(O)return A;O=true;A=function(){throw new Error("Readable.from is not available in the browser")};return A}var L={},x=false;var D=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;function dew$9(){if(x)return L;x=true;var i=a;L=Readable;var s;Readable.ReadableState=ReadableState;t.EventEmitter;var l=function EElistenerCount(e,t){return e.listeners(t).length};var u=dew$j();var f=r().Buffer;var d=(typeof D!=="undefined"?D:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function _uint8ArrayToBuffer(e){return f.from(e)}function _isUint8Array(e){return f.isBuffer(e)||e instanceof d}var c=n;var h;h=c&&c.debuglog?c.debuglog("stream"):function debug(){};var p=dew$i();var b=dew$h();var y=dew$f(),v=y.getHighWaterMark;var g=dew$g().codes,m=g.ERR_INVALID_ARG_TYPE,_=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,R=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var S;var T;var E;e()(Readable,u);var k=b.errorOrDestroy;var M=["error","close","destroy","pause","resume"];function prependListener(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function ReadableState(e,t,r){s=s||dew$d();e=e||{};typeof r!=="boolean"&&(r=t instanceof s);this.objectMode=!!e.objectMode;r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);this.highWaterMark=v(this,e,"readableHighWaterMark",r);this.buffer=new p;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){S||(S=o.StringDecoder);this.decoder=new S(e.encoding);this.encoding=e.encoding}}function Readable(e){s=s||dew$d();if(!(this instanceof Readable))return new Readable(e);var t=this instanceof s;this._readableState=new ReadableState(e,this,t);this.readable=true;if(e){typeof e.read==="function"&&(this._read=e.read);typeof e.destroy==="function"&&(this._destroy=e.destroy)}u.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:false,get:function get(){return this._readableState!==void 0&&this._readableState.destroyed},set:function set(e){this._readableState&&(this._readableState.destroyed=e)}});Readable.prototype.destroy=b.destroy;Readable.prototype._undestroy=b.undestroy;Readable.prototype._destroy=function(e,t){t(e)};Readable.prototype.push=function(e,t){var r=this._readableState;var n;if(r.objectMode)n=true;else if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=f.from(e,t);t=""}n=true}return readableAddChunk(this,e,t,false,n)};Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,true,false)};function readableAddChunk(e,t,r,n,a){h("readableAddChunk",t);var i=e._readableState;if(t===null){i.reading=false;onEofChunk(e,i)}else{var o;a||(o=chunkInvalid(i,t));if(o)k(e,o);else if(i.objectMode||t&&t.length>0){typeof t==="string"||i.objectMode||Object.getPrototypeOf(t)===f.prototype||(t=_uint8ArrayToBuffer(t));if(n)i.endEmitted?k(e,new R):addChunk(e,i,t,true);else if(i.ended)k(e,new _);else{if(i.destroyed)return false;i.reading=false;if(i.decoder&&!r){t=i.decoder.write(t);i.objectMode||t.length!==0?addChunk(e,i,t,false):maybeReadMore(e,i)}else addChunk(e,i,t,false)}}else if(!n){i.reading=false;maybeReadMore(e,i)}}return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function addChunk(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;n?t.buffer.unshift(r):t.buffer.push(r);t.needReadable&&emitReadable(e)}maybeReadMore(e,t)}function chunkInvalid(e,t){var r;_isUint8Array(t)||typeof t==="string"||t===void 0||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t));return r}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(e){S||(S=o.StringDecoder);var t=new S(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();n!==""&&this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var C=1073741824;function computeNewHighWaterMark(e){if(e>=C)e=C;else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function howMuchToRead(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e));if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}Readable.prototype.read=function(e){h("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;e!==0&&(t.emittedReadable=false);if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){h("read: emitReadable",t.length,t.ended);t.length===0&&t.ended?endReadable(this):emitReadable(this);return null}e=howMuchToRead(e,t);if(e===0&&t.ended){t.length===0&&endReadable(this);return null}var n=t.needReadable;h("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;h("length less than watermark",n)}if(t.ended||t.reading){n=false;h("reading or ended",n)}else if(n){h("do read");t.reading=true;t.sync=true;t.length===0&&(t.needReadable=true);this._read(t.highWaterMark);t.sync=false;t.reading||(e=howMuchToRead(r,t))}var a;a=e>0?fromList(e,t):null;if(a===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){t.ended||(t.needReadable=true);r!==e&&t.ended&&endReadable(this)}a!==null&&this.emit("data",a);return a};function onEofChunk(e,t){h("onEofChunk");if(!t.ended){if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync)emitReadable(e);else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;emitReadable_(e)}}}}function emitReadable(e){var t=e._readableState;h("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){h("emitReadable",t.flowing);t.emittedReadable=true;i.nextTick(emitReadable_,e)}}function emitReadable_(e){var t=e._readableState;h("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;flow(e)}function maybeReadMore(e,t){if(!t.readingMore){t.readingMore=true;i.nextTick(maybeReadMore_,e,t)}}function maybeReadMore_(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;h("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}Readable.prototype._read=function(e){k(this,new w("_read()"))};Readable.prototype.pipe=function(e,t){var r=this;var n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1;h("pipe count=%d opts=%j",n.pipesCount,t);var a=(!t||t.end!==false)&&e!==i.stdout&&e!==i.stderr;var o=a?onend:unpipe;n.endEmitted?i.nextTick(o):r.once("end",o);e.on("unpipe",onunpipe);function onunpipe(e,t){h("onunpipe");if(e===r&&t&&t.hasUnpiped===false){t.hasUnpiped=true;cleanup()}}function onend(){h("onend");e.end()}var s=pipeOnDrain(r);e.on("drain",s);var u=false;function cleanup(){h("cleanup");e.removeListener("close",onclose);e.removeListener("finish",onfinish);e.removeListener("drain",s);e.removeListener("error",onerror);e.removeListener("unpipe",onunpipe);r.removeListener("end",onend);r.removeListener("end",unpipe);r.removeListener("data",ondata);u=true;!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s()}r.on("data",ondata);function ondata(t){h("ondata");var a=e.write(t);h("dest.write",a);if(a===false){if((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&indexOf(n.pipes,e)!==-1)&&!u){h("false write response, pause",n.awaitDrain);n.awaitDrain++}r.pause()}}function onerror(t){h("onerror",t);unpipe();e.removeListener("error",onerror);l(e,"error")===0&&k(e,t)}prependListener(e,"error",onerror);function onclose(){e.removeListener("finish",onfinish);unpipe()}e.once("close",onclose);function onfinish(){h("onfinish");e.removeListener("close",onclose);unpipe()}e.once("finish",onfinish);function unpipe(){h("unpipe");r.unpipe(e)}e.emit("pipe",r);if(!n.flowing){h("pipe resume");r.resume()}return e};function pipeOnDrain(e){return function pipeOnDrainFunctionResult(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain);t.awaitDrain&&t.awaitDrain--;if(t.awaitDrain===0&&l(e,"data")){t.flowing=true;flow(e)}}}Readable.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;e||(e=t.pipes);t.pipes=null;t.pipesCount=0;t.flowing=false;e&&e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var a=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var i=0;i<a;i++)n[i].emit("unpipe",this,{hasUnpiped:false});return this}var o=indexOf(t.pipes,e);if(o===-1)return this;t.pipes.splice(o,1);t.pipesCount-=1;t.pipesCount===1&&(t.pipes=t.pipes[0]);e.emit("unpipe",this,r);return this};Readable.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;n.flowing!==false&&this.resume()}else if(e==="readable"&&!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;h("on readable",n.length,n.reading);n.length?emitReadable(this):n.reading||i.nextTick(nReadingNextTick,this)}return r};Readable.prototype.addListener=Readable.prototype.on;Readable.prototype.removeListener=function(e,t){var r=u.prototype.removeListener.call(this,e,t);e==="readable"&&i.nextTick(updateReadableListening,this);return r};Readable.prototype.removeAllListeners=function(e){var t=u.prototype.removeAllListeners.apply(this,arguments);e!=="readable"&&e!==void 0||i.nextTick(updateReadableListening,this);return t};function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;t.resumeScheduled&&!t.paused?t.flowing=true:e.listenerCount("data")>0&&e.resume()}function nReadingNextTick(e){h("readable nexttick read 0");e.read(0)}Readable.prototype.resume=function(){var e=this._readableState;if(!e.flowing){h("resume");e.flowing=!e.readableListening;resume(this,e)}e.paused=false;return this};function resume(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;i.nextTick(resume_,e,t)}}function resume_(e,t){h("resume",t.reading);t.reading||e.read(0);t.resumeScheduled=false;e.emit("resume");flow(e);t.flowing&&!t.reading&&e.read(0)}Readable.prototype.pause=function(){h("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){h("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function flow(e){var t=e._readableState;h("flow",t.flowing);while(t.flowing&&e.read()!==null);}Readable.prototype.wrap=function(e){var t=this;var r=this._readableState;var n=false;e.on("end",(function(){h("wrapped end");if(r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}));e.on("data",(function(a){h("wrapped data");r.decoder&&(a=r.decoder.write(a));if((!r.objectMode||a!==null&&a!==void 0)&&(r.objectMode||a&&a.length)){var i=t.push(a);if(!i){n=true;e.pause()}}}));for(var a in e)this[a]===void 0&&typeof e[a]==="function"&&(this[a]=function methodWrap(t){return function methodWrapReturnFunction(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<M.length;i++)e.on(M[i],this.emit.bind(this,M[i]));this._read=function(t){h("wrapped _read",t);if(n){n=false;e.resume()}};return this};typeof Symbol==="function"&&(Readable.prototype[Symbol.asyncIterator]=function(){T===void 0&&(T=dew$b());return T(this)});Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function get(){return this._readableState.highWaterMark}});Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:false,get:function get(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:false,get:function get(){return this._readableState.flowing},set:function set(e){this._readableState&&(this._readableState.flowing=e)}});Readable._fromList=fromList;Object.defineProperty(Readable.prototype,"readableLength",{enumerable:false,get:function get(){return this._readableState.length}});function fromList(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){r=t.decoder?t.buffer.join(""):t.buffer.length===1?t.buffer.first():t.buffer.concat(t.length);t.buffer.clear()}else r=t.buffer.consume(e,t.decoder);return r}function endReadable(e){var t=e._readableState;h("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;i.nextTick(endReadableNT,t,e)}}function endReadableNT(e,t){h("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}}typeof Symbol==="function"&&(Readable.from=function(e,t){E===void 0&&(E=dew$a());return E(Readable,e,t)});function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}return L}var N={},j=false;function dew$8(){if(j)return N;j=true;N=Transform;var t=dew$g().codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,n=t.ERR_MULTIPLE_CALLBACK,a=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0;var o=dew$d();e()(Transform,o);function afterTransform(e,t){var r=this._transformState;r.transforming=false;var a=r.writecb;if(a===null)return this.emit("error",new n);r.writechunk=null;r.writecb=null;t!=null&&this.push(t);a(e);var i=this._readableState;i.reading=false;(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);o.call(this,e);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){typeof e.transform==="function"&&(this._transform=e.transform);typeof e.flush==="function"&&(this._flush=e.flush)}this.on("prefinish",prefinish)}function prefinish(){var e=this;typeof this._flush!=="function"||this._readableState.destroyed?done(this,null,null):this._flush((function(t,r){done(e,t,r)}))}Transform.prototype.push=function(e,t){this._transformState.needTransform=false;return o.prototype.push.call(this,e,t)};Transform.prototype._transform=function(e,t,n){n(new r("_transform()"))};Transform.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};Transform.prototype._read=function(e){var t=this._transformState;if(t.writechunk===null||t.transforming)t.needTransform=true;else{t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}};Transform.prototype._destroy=function(e,t){o.prototype._destroy.call(this,e,(function(e){t(e)}))};function done(e,t,r){if(t)return e.emit("error",t);r!=null&&e.push(r);if(e._writableState.length)throw new i;if(e._transformState.transforming)throw new a;return e.push(null)}return N}var W={},$=false;function dew$7(){if($)return W;$=true;W=PassThrough;var t=dew$8();e()(PassThrough,t);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);t.call(this,e)}PassThrough.prototype._transform=function(e,t,r){r(null,e)};return W}var I={},q=false;function dew$6(){if(q)return I;q=true;var e;function once(e){var t=false;return function(){if(!t){t=true;e.apply(void 0,arguments)}}}var t=dew$g().codes,r=t.ERR_MISSING_ARGS,n=t.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&typeof e.abort==="function"}function destroyer(t,r,a,i){i=once(i);var o=false;t.on("close",(function(){o=true}));e===void 0&&(e=dew$c());e(t,{readable:r,writable:a},(function(e){if(e)return i(e);o=true;i()}));var s=false;return function(e){if(!o&&!s){s=true;if(isRequest(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();i(e||new n("pipe"))}}}function call(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){return e.length?typeof e[e.length-1]!=="function"?noop:e.pop():noop}function pipeline(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=popCallback(t);Array.isArray(t[0])&&(t=t[0]);if(t.length<2)throw new r("streams");var i;var o=t.map((function(e,r){var n=r<t.length-1;var s=r>0;return destroyer(e,n,s,(function(e){i||(i=e);e&&o.forEach(call);if(!n){o.forEach(call);a(i)}}))}));return t.reduce(pipe)}I=pipeline;return I}var H={},B=false;function dew$5(){if(B)return H;B=true;H=H=dew$9();H.Stream=H;H.Readable=H;H.Writable=dew$e();H.Duplex=dew$d();H.Transform=dew$8();H.PassThrough=dew$7();H.finished=dew$c();H.pipeline=dew$6();return H}var U={},F=false;var G=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;function dew$4(){if(F)return U;F=true;var t=r().Buffer;var n=a;var i=dew$k();var o=e();var s=dew$5();var l=U.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var u=U.IncomingMessage=function(e,r,a,o){var l=this||G;s.Readable.call(l);l._mode=a;l.headers={};l.rawHeaders=[];l.trailers={};l.rawTrailers=[];l.on("end",(function(){n.nextTick((function(){l.emit("close")}))}));if(a==="fetch"){l._fetchResponse=r;l.url=r.url;l.statusCode=r.status;l.statusMessage=r.statusText;r.headers.forEach((function(e,t){l.headers[t.toLowerCase()]=e;l.rawHeaders.push(t,e)}));if(i.writableStream){var u=new WritableStream({write:function(e){o(false);return new Promise((function(r,n){l._destroyed?n():l.push(t.from(e))?r():l._resumeFetch=r}))},close:function(){o(true);l._destroyed||l.push(null)},abort:function(e){o(true);l._destroyed||l.emit("error",e)}});try{r.body.pipeTo(u).catch((function(e){o(true);l._destroyed||l.emit("error",e)}));return}catch(p){}}var f=r.body.getReader();function read(){f.read().then((function(e){if(!l._destroyed){o(e.done);if(e.done)l.push(null);else{l.push(t.from(e.value));read()}}})).catch((function(e){o(true);l._destroyed||l.emit("error",e)}))}read()}else{l._xhr=e;l._pos=0;l.url=e.responseURL;l.statusCode=e.status;l.statusMessage=e.statusText;var d=e.getAllResponseHeaders().split(/\r?\n/);d.forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();if(r==="set-cookie"){l.headers[r]===void 0&&(l.headers[r]=[]);l.headers[r].push(t[2])}else l.headers[r]!==void 0?l.headers[r]+=", "+t[2]:l.headers[r]=t[2];l.rawHeaders.push(t[1],t[2])}}));l._charset="x-user-defined";if(!i.overrideMimeType){var c=l.rawHeaders["mime-type"];if(c){var h=c.match(/;\s*charset=([^;])(;|$)/);h&&(l._charset=h[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};o(u,s.Readable);u.prototype._read=function(){var e=this||G;var t=e._resumeFetch;if(t){e._resumeFetch=null;t()}};u.prototype._onXHRProgress=function(e){var r=this||G;var n=r._xhr;var a=null;switch(r._mode){case"text":a=n.responseText;if(a.length>r._pos){var i=a.substr(r._pos);if(r._charset==="x-user-defined"){var o=t.alloc(i.length);for(var s=0;s<i.length;s++)o[s]=i.charCodeAt(s)&255;r.push(o)}else r.push(i,r._charset);r._pos=a.length}break;case"arraybuffer":if(n.readyState!==l.DONE||!n.response)break;a=n.response;r.push(t.from(new Uint8Array(a)));break;case"moz-chunked-arraybuffer":a=n.response;if(n.readyState!==l.LOADING||!a)break;r.push(t.from(new Uint8Array(a)));break;case"ms-stream":a=n.response;if(n.readyState!==l.LOADING)break;var u=new G.MSStreamReader;u.onprogress=function(){if(u.result.byteLength>r._pos){r.push(t.from(new Uint8Array(u.result.slice(r._pos))));r._pos=u.result.byteLength}};u.onload=function(){e(true);r.push(null)};u.readAsArrayBuffer(a);break}if(r._xhr.readyState===l.DONE&&r._mode!=="ms-stream"){e(true);r.push(null)}};return U}var K={},V=false;var X=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;function dew$3(){if(V)return K;V=true;var t=r().Buffer;var n=a;var i=dew$k();var o=e();var s=dew$4();var l=dew$5();var u=s.IncomingMessage;var f=s.readyStates;function decideMode(e,t){return i.fetch&&t?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&e?"arraybuffer":"text"}var d=K=function(e){var r=this||X;l.Writable.call(r);r._opts=e;r._body=[];r._headers={};e.auth&&r.setHeader("Authorization","Basic "+t.from(e.auth).toString("base64"));Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var n;var a=true;if(e.mode==="disable-fetch"||"requestTimeout"in e&&!i.abortController){a=false;n=true}else if(e.mode==="prefer-streaming")n=false;else if(e.mode==="allow-wrong-content-type")n=!i.overrideMimeType;else{if(e.mode&&e.mode!=="default"&&e.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");n=true}r._mode=decideMode(n,a);r._fetchTimer=null;r._socketTimeout=null;r._socketTimer=null;r.on("finish",(function(){r._onFinish()}))};o(d,l.Writable);d.prototype.setHeader=function(e,t){var r=this||X;var n=e.toLowerCase();c.indexOf(n)===-1&&(r._headers[n]={name:e,value:t})};d.prototype.getHeader=function(e){var t=(this||X)._headers[e.toLowerCase()];return t?t.value:null};d.prototype.removeHeader=function(e){var t=this||X;delete t._headers[e.toLowerCase()]};d.prototype._onFinish=function(){var e=this||X;if(!e._destroyed){var t=e._opts;"timeout"in t&&t.timeout!==0&&e.setTimeout(t.timeout);var r=e._headers;var a=null;t.method!=="GET"&&t.method!=="HEAD"&&(a=new Blob(e._body,{type:(r["content-type"]||{}).value||""}));var o=[];Object.keys(r).forEach((function(e){var t=r[e].name;var n=r[e].value;Array.isArray(n)?n.forEach((function(e){o.push([t,e])})):o.push([t,n])}));if(e._mode==="fetch"){var s=null;if(i.abortController){var l=new AbortController;s=l.signal;e._fetchAbortController=l;"requestTimeout"in t&&t.requestTimeout!==0&&(e._fetchTimer=X.setTimeout((function(){e.emit("requestTimeout");e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}X.fetch(e._opts.url,{method:e._opts.method,headers:o,body:a||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:s}).then((function(t){e._fetchResponse=t;e._resetTimers(false);e._connect()}),(function(t){e._resetTimers(true);e._destroyed||e.emit("error",t)}))}else{var u=e._xhr=new X.XMLHttpRequest;try{u.open(e._opts.method,e._opts.url,true)}catch(t){n.nextTick((function(){e.emit("error",t)}));return}"responseType"in u&&(u.responseType=e._mode);"withCredentials"in u&&(u.withCredentials=!!t.withCredentials);e._mode==="text"&&"overrideMimeType"in u&&u.overrideMimeType("text/plain; charset=x-user-defined");if("requestTimeout"in t){u.timeout=t.requestTimeout;u.ontimeout=function(){e.emit("requestTimeout")}}o.forEach((function(e){u.setRequestHeader(e[0],e[1])}));e._response=null;u.onreadystatechange=function(){switch(u.readyState){case f.LOADING:case f.DONE:e._onXHRProgress();break}};e._mode==="moz-chunked-arraybuffer"&&(u.onprogress=function(){e._onXHRProgress()});u.onerror=function(){if(!e._destroyed){e._resetTimers(true);e.emit("error",new Error("XHR error"))}};try{u.send(a)}catch(t){n.nextTick((function(){e.emit("error",t)}));return}}}};function statusValid(e){try{var t=e.status;return t!==null&&t!==0}catch(e){return false}}d.prototype._onXHRProgress=function(){var e=this||X;e._resetTimers(false);if(statusValid(e._xhr)&&!e._destroyed){e._response||e._connect();e._response._onXHRProgress(e._resetTimers.bind(e))}};d.prototype._connect=function(){var e=this||X;if(!e._destroyed){e._response=new u(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e));e._response.on("error",(function(t){e.emit("error",t)}));e.emit("response",e._response)}};d.prototype._write=function(e,t,r){var n=this||X;n._body.push(e);r()};d.prototype._resetTimers=function(e){var t=this||X;X.clearTimeout(t._socketTimer);t._socketTimer=null;if(e){X.clearTimeout(t._fetchTimer);t._fetchTimer=null}else t._socketTimeout&&(t._socketTimer=X.setTimeout((function(){t.emit("timeout")}),t._socketTimeout))};d.prototype.abort=d.prototype.destroy=function(e){var t=this||X;t._destroyed=true;t._resetTimers(true);t._response&&(t._response._destroyed=true);t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort();e&&t.emit("error",e)};d.prototype.end=function(e,t,r){var n=this||X;if(typeof e==="function"){r=e;e=void 0}l.Writable.prototype.end.call(n,e,t,r)};d.prototype.setTimeout=function(e,t){var r=this||X;t&&r.once("timeout",t);r._socketTimeout=e;r._resetTimers(false)};d.prototype.flushHeaders=function(){};d.prototype.setNoDelay=function(){};d.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];return K}var Y={},z=false;function dew$2(){if(z)return Y;z=true;Y=extend;var e=Object.prototype.hasOwnProperty;function extend(){var t={};for(var r=0;r<arguments.length;r++){var n=arguments[r];for(var a in n)e.call(n,a)&&(t[a]=n[a])}return t}return Y}var J={},Q=false;function dew$1(){if(Q)return J;Q=true;J={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};return J}var Z={},ee=false;var te=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;function dew(){if(ee)return Z;ee=true;var e=dew$3();var t=dew$4();var r=dew$2();var n=dew$1();var a=s;var i=Z;i.request=function(t,n){t=typeof t==="string"?a.parse(t):r(t);var i=te.location.protocol.search(/^https?:$/)===-1?"http:":"";var o=t.protocol||i;var s=t.hostname||t.host;var l=t.port;var u=t.path||"/";s&&s.indexOf(":")!==-1&&(s="["+s+"]");t.url=(s?o+"//"+s:"")+(l?":"+l:"")+u;t.method=(t.method||"GET").toUpperCase();t.headers=t.headers||{};var f=new e(t);n&&f.on("response",n);return f};i.get=function get(e,t){var r=i.request(e,t);r.end();return r};i.ClientRequest=e;i.IncomingMessage=t.IncomingMessage;i.Agent=function(){};i.Agent.defaultMaxSockets=4;i.globalAgent=new i.Agent;i.STATUS_CODES=n;i.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"];return Z}const re=dew();var ne=re.Agent;var ae=re.ClientRequest;var ie=re.IncomingMessage;var oe=re.METHODS;var se=re.STATUS_CODES;var le=re.get;var ue=re.globalAgent;var fe=re.request;export{ne as Agent,ae as ClientRequest,ie as IncomingMessage,oe as METHODS,se as STATUS_CODES,re as default,le as get,ue as globalAgent,fe as request};

