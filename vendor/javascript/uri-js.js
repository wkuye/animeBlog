var e={};
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(r,t){t(e)})(0,(function(e){function merge(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);var a=r.length-1;for(var o=1;o<a;++o)r[o]=r[o].slice(1,-1);r[a]=r[a].slice(1);return r.join("")}return r[0]}function subexp(e){return"(?:"+e+")"}function typeOf(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function toUpperCase(e){return e.toUpperCase()}function toArray(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!==typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function assign(e,r){var t=e;if(r)for(var a in r)t[a]=r[a];return t}function buildExps(e){var r="[A-Za-z]",t="[0-9]",a=merge(t,"[A-Fa-f]"),o=subexp(subexp("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+subexp("%[89A-Fa-f]"+a+"%"+a+a)+"|"+subexp("%"+a+a)),n="[\\:\\/\\?\\#\\[\\]\\@]",s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",i=merge(n,s),p=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",u=e?"[\\uE000-\\uF8FF]":"[]",c=merge(r,t,"[\\-\\.\\_\\~]",p),v=subexp(r+merge(r,t,"[\\+\\-\\.]")+"*"),l=subexp(subexp(o+"|"+merge(c,s,"[\\:]"))+"*"),h=(subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+t)+"|"+subexp("1"+t+t)+"|"+subexp("[1-9]"+t)+"|"+t),subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+t)+"|"+subexp("1"+t+t)+"|"+subexp("0?[1-9]"+t)+"|0?0?"+t)),f=subexp(h+"\\."+h+"\\."+h+"\\."+h),d=subexp(a+"{1,4}"),m=subexp(subexp(d+"\\:"+d)+"|"+f),b=subexp(subexp(d+"\\:")+"{6}"+m),x=subexp("\\:\\:"+subexp(d+"\\:")+"{5}"+m),g=subexp(subexp(d)+"?\\:\\:"+subexp(d+"\\:")+"{4}"+m),C=subexp(subexp(subexp(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+subexp(d+"\\:")+"{3}"+m),E=subexp(subexp(subexp(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+subexp(d+"\\:")+"{2}"+m),y=subexp(subexp(subexp(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+m),S=subexp(subexp(subexp(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+m),D=subexp(subexp(subexp(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),w=subexp(subexp(subexp(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),A=subexp([b,x,g,C,E,y,S,D,w].join("|")),_=subexp(subexp(c+"|"+o)+"+"),I=(subexp(A+"\\%25"+_),subexp(A+subexp("\\%25|\\%(?!"+a+"{2})")+_)),O=subexp("[vV]"+a+"+\\."+merge(c,s,"[\\:]")+"+"),z=subexp("\\["+subexp(I+"|"+A+"|"+O)+"\\]"),N=subexp(subexp(o+"|"+merge(c,s))+"*"),U=subexp(z+"|"+f+"(?!"+N+")|"+N),T=subexp(t+"*"),F=subexp(subexp(l+"@")+"?"+U+subexp("\\:"+T)+"?"),P=subexp(o+"|"+merge(c,s,"[\\:\\@]")),R=subexp(P+"*"),q=subexp(P+"+"),$=subexp(subexp(o+"|"+merge(c,s,"[\\@]"))+"+"),H=subexp(subexp("\\/"+R)+"*"),j=subexp("\\/"+subexp(q+H)+"?"),L=subexp($+H),M=subexp(q+H),V="(?!"+P+")",Z=(subexp(H+"|"+j+"|"+L+"|"+M+"|"+V),subexp(subexp(P+"|"+merge("[\\/\\?]",u))+"*")),k=subexp(subexp(P+"|[\\/\\?]")+"*"),G=subexp(subexp("\\/\\/"+F+H)+"|"+j+"|"+M+"|"+V),Q=subexp(v+"\\:"+G+subexp("\\?"+Z)+"?"+subexp("\\#"+k)+"?"),Y=subexp(subexp("\\/\\/"+F+H)+"|"+j+"|"+L+"|"+V),B=subexp(Y+subexp("\\?"+Z)+"?"+subexp("\\#"+k)+"?");subexp(Q+"|"+B),subexp(v+"\\:"+G+subexp("\\?"+Z)+"?"),subexp(subexp("\\/\\/("+subexp("("+l+")@")+"?("+U+")"+subexp("\\:("+T+")")+"?)")+"?("+H+"|"+j+"|"+M+"|"+V+")"),subexp("\\?("+Z+")"),subexp("\\#("+k+")"),subexp(subexp("\\/\\/("+subexp("("+l+")@")+"?("+U+")"+subexp("\\:("+T+")")+"?)")+"?("+H+"|"+j+"|"+L+"|"+V+")"),subexp("\\?("+Z+")"),subexp("\\#("+k+")"),subexp(subexp("\\/\\/("+subexp("("+l+")@")+"?("+U+")"+subexp("\\:("+T+")")+"?)")+"?("+H+"|"+j+"|"+M+"|"+V+")"),subexp("\\?("+Z+")"),subexp("\\#("+k+")"),subexp("("+l+")@"),subexp("\\:("+T+")");return{NOT_SCHEME:new RegExp(merge("[^]",r,t,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(merge("[^\\%\\:]",c,s),"g"),NOT_HOST:new RegExp(merge("[^\\%\\[\\]\\:]",c,s),"g"),NOT_PATH:new RegExp(merge("[^\\%\\/\\:\\@]",c,s),"g"),NOT_PATH_NOSCHEME:new RegExp(merge("[^\\%\\/\\@]",c,s),"g"),NOT_QUERY:new RegExp(merge("[^\\%]",c,s,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(merge("[^\\%]",c,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(merge("[^]",c,s),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(merge("[^\\%]",c,i),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+A+")"+subexp(subexp("\\%25|\\%(?!"+a+"{2})")+"("+_+")")+"?\\]?$")}}var r=buildExps(false);var t=buildExps(true);var a=function(){function sliceIterator(e,r){var t=[];var a=true;var o=false;var n=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done);a=true){t.push(s.value);if(r&&t.length===r)break}}catch(e){o=true;n=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw n}}return t}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return sliceIterator(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var toConsumableArray=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)};var o=2147483647;var n=36;var s=1;var i=26;var p=38;var u=700;var c=72;var v=128;var l="-";var h=/^xn--/;var f=/[^\0-\x7E]/;var d=/[\x2E\u3002\uFF0E\uFF61]/g;var m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"};var b=n-s;var x=Math.floor;var g=String.fromCharCode;
/**
   * A generic error utility function.
   * @private
   * @param {String} type The error type.
   * @returns {Error} Throws a `RangeError` with the applicable error message.
   */function error$1(e){throw new RangeError(m[e])}
/**
   * A generic `Array#map` utility function.
   * @private
   * @param {Array} array The array to iterate over.
   * @param {Function} callback The function that gets called for every array
   * item.
   * @returns {Array} A new array of values returned by the callback function.
   */function map(e,r){var t=[];var a=e.length;while(a--)t[a]=r(e[a]);return t}
/**
   * A simple `Array#map`-like wrapper to work with domain name strings or email
   * addresses.
   * @private
   * @param {String} domain The domain name or email address.
   * @param {Function} callback The function that gets called for every
   * character.
   * @returns {Array} A new string of characters returned by the callback
   * function.
   */function mapDomain(e,r){var t=e.split("@");var a="";if(t.length>1){a=t[0]+"@";e=t[1]}e=e.replace(d,".");var o=e.split(".");var n=map(o,r).join(".");return a+n}
/**
   * Creates an array containing the numeric code points of each Unicode
   * character in the string. While JavaScript uses UCS-2 internally,
   * this function will convert a pair of surrogate halves (each of which
   * UCS-2 exposes as separate characters) into a single code point,
   * matching UTF-16.
   * @see `punycode.ucs2.encode`
   * @see <https://mathiasbynens.be/notes/javascript-encoding>
   * @memberOf punycode.ucs2
   * @name decode
   * @param {String} string The Unicode input string (UCS-2).
   * @returns {Array} The new array of code points.
   */function ucs2decode(e){var r=[];var t=0;var a=e.length;while(t<a){var o=e.charCodeAt(t++);if(o>=55296&&o<=56319&&t<a){var n=e.charCodeAt(t++);if(56320==(64512&n))r.push(((1023&o)<<10)+(1023&n)+65536);else{r.push(o);t--}}else r.push(o)}return r}
/**
   * Creates a string based on an array of numeric code points.
   * @see `punycode.ucs2.decode`
   * @memberOf punycode.ucs2
   * @name encode
   * @param {Array} codePoints The array of numeric code points.
   * @returns {String} The new Unicode string (UCS-2).
   */var C=function ucs2encode(e){return String.fromCodePoint.apply(String,toConsumableArray(e))};
/**
   * Converts a basic code point into a digit/integer.
   * @see `digitToBasic()`
   * @private
   * @param {Number} codePoint The basic numeric code point value.
   * @returns {Number} The numeric value of a basic code point (for use in
   * representing integers) in the range `0` to `base - 1`, or `base` if
   * the code point does not represent a value.
   */var E=function basicToDigit(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:n};
/**
   * Converts a digit/integer into a basic code point.
   * @see `basicToDigit()`
   * @private
   * @param {Number} digit The numeric value of a basic code point.
   * @returns {Number} The basic code point whose value (when used for
   * representing integers) is `digit`, which needs to be in the range
   * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
   * used; else, the lowercase form is used. The behavior is undefined
   * if `flag` is non-zero and `digit` has no uppercase form.
   */var y=function digitToBasic(e,r){return e+22+75*(e<26)-((0!=r)<<5)};var S=function adapt(e,r,t){var a=0;e=t?x(e/u):e>>1;e+=x(e/r);for(;e>b*i>>1;a+=n)e=x(e/b);return x(a+(b+1)*e/(e+p))};
/**
   * Converts a Punycode string of ASCII-only symbols to a string of Unicode
   * symbols.
   * @memberOf punycode
   * @param {String} input The Punycode string of ASCII-only symbols.
   * @returns {String} The resulting string of Unicode symbols.
   */var D=function decode(e){var r=[];var t=e.length;var a=0;var p=v;var u=c;var h=e.lastIndexOf(l);h<0&&(h=0);for(var f=0;f<h;++f){e.charCodeAt(f)>=128&&error$1("not-basic");r.push(e.charCodeAt(f))}for(var d=h>0?h+1:0;d<t;){var m=a;for(var b=1,g=n;;g+=n){d>=t&&error$1("invalid-input");var C=E(e.charCodeAt(d++));(C>=n||C>x((o-a)/b))&&error$1("overflow");a+=C*b;var y=g<=u?s:g>=u+i?i:g-u;if(C<y)break;var D=n-y;b>x(o/D)&&error$1("overflow");b*=D}var w=r.length+1;u=S(a-m,w,0==m);x(a/w)>o-p&&error$1("overflow");p+=x(a/w);a%=w;r.splice(a++,0,p)}return String.fromCodePoint.apply(String,r)};
/**
   * Converts a string of Unicode symbols (e.g. a domain name label) to a
   * Punycode string of ASCII-only symbols.
   * @memberOf punycode
   * @param {String} input The string of Unicode symbols.
   * @returns {String} The resulting Punycode string of ASCII-only symbols.
   */var w=function encode(e){var r=[];e=ucs2decode(e);var t=e.length;var a=v;var p=0;var u=c;var h=true;var f=false;var d=void 0;try{for(var m,b=e[Symbol.iterator]();!(h=(m=b.next()).done);h=true){var C=m.value;C<128&&r.push(g(C))}}catch(e){f=true;d=e}finally{try{!h&&b.return&&b.return()}finally{if(f)throw d}}var E=r.length;var D=E;E&&r.push(l);while(D<t){var w=o;var A=true;var _=false;var I=void 0;try{for(var O,z=e[Symbol.iterator]();!(A=(O=z.next()).done);A=true){var N=O.value;N>=a&&N<w&&(w=N)}}catch(e){_=true;I=e}finally{try{!A&&z.return&&z.return()}finally{if(_)throw I}}var U=D+1;w-a>x((o-p)/U)&&error$1("overflow");p+=(w-a)*U;a=w;var T=true;var F=false;var P=void 0;try{for(var R,q=e[Symbol.iterator]();!(T=(R=q.next()).done);T=true){var $=R.value;$<a&&++p>o&&error$1("overflow");if($==a){var H=p;for(var j=n;;j+=n){var L=j<=u?s:j>=u+i?i:j-u;if(H<L)break;var M=H-L;var V=n-L;r.push(g(y(L+M%V,0)));H=x(M/V)}r.push(g(y(H,0)));u=S(p,U,D==E);p=0;++D}}}catch(e){F=true;P=e}finally{try{!T&&q.return&&q.return()}finally{if(F)throw P}}++p;++a}return r.join("")};
/**
   * Converts a Punycode string representing a domain name or an email address
   * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
   * it doesn't matter if you call it on a string that has already been
   * converted to Unicode.
   * @memberOf punycode
   * @param {String} input The Punycoded domain name or email address to
   * convert to Unicode.
   * @returns {String} The Unicode representation of the given Punycode
   * string.
   */var A=function toUnicode(e){return mapDomain(e,(function(e){return h.test(e)?D(e.slice(4).toLowerCase()):e}))};
/**
   * Converts a Unicode string representing a domain name or an email address to
   * Punycode. Only the non-ASCII parts of the domain name will be converted,
   * i.e. it doesn't matter if you call it with a domain that's already in
   * ASCII.
   * @memberOf punycode
   * @param {String} input The domain name or email address to convert, as a
   * Unicode string.
   * @returns {String} The Punycode representation of the given domain name or
   * email address.
   */var _=function toASCII(e){return mapDomain(e,(function(e){return f.test(e)?"xn--"+w(e):e}))};var I={
/**
     * A string representing the current Punycode.js version number.
     * @memberOf punycode
     * @type String
     */
version:"2.1.0",
/**
     * An object of methods to convert from JavaScript's internal character
     * representation (UCS-2) to Unicode code points, and back.
     * @see <https://mathiasbynens.be/notes/javascript-encoding>
     * @memberOf punycode
     * @type Object
     */
ucs2:{decode:ucs2decode,encode:C},decode:D,encode:w,toASCII:_,toUnicode:A};var O={};function pctEncChar(e){var r=e.charCodeAt(0);var t=void 0;t=r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase();return t}function pctDecChars(e){var r="";var t=0;var a=e.length;while(t<a){var o=parseInt(e.substr(t+1,2),16);if(o<128){r+=String.fromCharCode(o);t+=3}else if(o>=194&&o<224){if(a-t>=6){var n=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&o)<<6|63&n)}else r+=e.substr(t,6);t+=6}else if(o>=224){if(a-t>=9){var s=parseInt(e.substr(t+4,2),16);var i=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&o)<<12|(63&s)<<6|63&i)}else r+=e.substr(t,9);t+=9}else{r+=e.substr(t,3);t+=3}}return r}function _normalizeComponentEncoding(e,r){function decodeUnreserved(e){var t=pctDecChars(e);return t.match(r.UNRESERVED)?t:e}e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(r.NOT_SCHEME,""));void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,decodeUnreserved).replace(r.NOT_USERINFO,pctEncChar).replace(r.PCT_ENCODED,toUpperCase));void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(r.NOT_HOST,pctEncChar).replace(r.PCT_ENCODED,toUpperCase));void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,decodeUnreserved).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,pctEncChar).replace(r.PCT_ENCODED,toUpperCase));void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,decodeUnreserved).replace(r.NOT_QUERY,pctEncChar).replace(r.PCT_ENCODED,toUpperCase));void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,decodeUnreserved).replace(r.NOT_FRAGMENT,pctEncChar).replace(r.PCT_ENCODED,toUpperCase));return e}function _stripLeadingZeros(e){return e.replace(/^0*(.*)/,"$1")||"0"}function _normalizeIPv4(e,r){var t=e.match(r.IPV4ADDRESS)||[];var o=a(t,2),n=o[1];return n?n.split(".").map(_stripLeadingZeros).join("."):e}function _normalizeIPv6(e,r){var t=e.match(r.IPV6ADDRESS)||[];var o=a(t,3),n=o[1],s=o[2];if(n){var i=n.toLowerCase().split("::").reverse(),p=a(i,2),u=p[0],c=p[1];var v=c?c.split(":").map(_stripLeadingZeros):[];var l=u.split(":").map(_stripLeadingZeros);var h=r.IPV4ADDRESS.test(l[l.length-1]);var f=h?7:8;var d=l.length-f;var m=Array(f);for(var b=0;b<f;++b)m[b]=v[b]||l[d+b]||"";h&&(m[f-1]=_normalizeIPv4(m[f-1],r));var x=m.reduce((function(e,r,t){if(!r||"0"===r){var a=e[e.length-1];a&&a.index+a.length===t?a.length++:e.push({index:t,length:1})}return e}),[]);var g=x.sort((function(e,r){return r.length-e.length}))[0];var C=void 0;if(g&&g.length>1){var E=m.slice(0,g.index);var y=m.slice(g.index+g.length);C=E.join(":")+"::"+y.join(":")}else C=m.join(":");s&&(C+="%"+s);return C}return e}var z=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i;var N=void 0==="".match(/(){0}/)[1];function parse(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o={};var n=false!==a.iri?t:r;"suffix"===a.reference&&(e=(a.scheme?a.scheme+":":"")+"//"+e);var s=e.match(z);if(s){if(N){o.scheme=s[1];o.userinfo=s[3];o.host=s[4];o.port=parseInt(s[5],10);o.path=s[6]||"";o.query=s[7];o.fragment=s[8];isNaN(o.port)&&(o.port=s[5])}else{o.scheme=s[1]||void 0;o.userinfo=-1!==e.indexOf("@")?s[3]:void 0;o.host=-1!==e.indexOf("//")?s[4]:void 0;o.port=parseInt(s[5],10);o.path=s[6]||"";o.query=-1!==e.indexOf("?")?s[7]:void 0;o.fragment=-1!==e.indexOf("#")?s[8]:void 0;isNaN(o.port)&&(o.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?s[4]:void 0)}o.host&&(o.host=_normalizeIPv6(_normalizeIPv4(o.host,n),n));void 0!==o.scheme||void 0!==o.userinfo||void 0!==o.host||void 0!==o.port||o.path||void 0!==o.query?void 0===o.scheme?o.reference="relative":void 0===o.fragment?o.reference="absolute":o.reference="uri":o.reference="same-document";a.reference&&"suffix"!==a.reference&&a.reference!==o.reference&&(o.error=o.error||"URI is not a "+a.reference+" reference.");var i=O[(a.scheme||o.scheme||"").toLowerCase()];if(a.unicodeSupport||i&&i.unicodeSupport)_normalizeComponentEncoding(o,n);else{if(o.host&&(a.domainHost||i&&i.domainHost))try{o.host=I.toASCII(o.host.replace(n.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){o.error=o.error||"Host's domain name can not be converted to ASCII via punycode: "+e}_normalizeComponentEncoding(o,r)}i&&i.parse&&i.parse(o,a)}else o.error=o.error||"URI can not be parsed.";return o}function _recomposeAuthority(e,a){var o=false!==a.iri?t:r;var n=[];if(void 0!==e.userinfo){n.push(e.userinfo);n.push("@")}void 0!==e.host&&n.push(_normalizeIPv6(_normalizeIPv4(String(e.host),o),o).replace(o.IPV6ADDRESS,(function(e,r,t){return"["+r+(t?"%25"+t:"")+"]"})));if("number"===typeof e.port||"string"===typeof e.port){n.push(":");n.push(String(e.port))}return n.length?n.join(""):void 0}var U=/^\.\.?\//;var T=/^\/\.(\/|$)/;var F=/^\/\.\.(\/|$)/;var P=/^\/?(?:.|\n)*?(?=\/|$)/;function removeDotSegments(e){var r=[];while(e.length)if(e.match(U))e=e.replace(U,"");else if(e.match(T))e=e.replace(T,"/");else if(e.match(F)){e=e.replace(F,"/");r.pop()}else if("."===e||".."===e)e="";else{var t=e.match(P);if(!t)throw new Error("Unexpected dot segment condition");var a=t[0];e=e.slice(a.length);r.push(a)}return r.join("")}function serialize(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o=a.iri?t:r;var n=[];var s=O[(a.scheme||e.scheme||"").toLowerCase()];s&&s.serialize&&s.serialize(e,a);if(e.host)if(o.IPV6ADDRESS.test(e.host));else if(a.domainHost||s&&s.domainHost)try{e.host=a.iri?I.toUnicode(e.host):I.toASCII(e.host.replace(o.PCT_ENCODED,pctDecChars).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(a.iri?"Unicode":"ASCII")+" via punycode: "+r}_normalizeComponentEncoding(e,o);if("suffix"!==a.reference&&e.scheme){n.push(e.scheme);n.push(":")}var i=_recomposeAuthority(e,a);if(void 0!==i){"suffix"!==a.reference&&n.push("//");n.push(i);e.path&&"/"!==e.path.charAt(0)&&n.push("/")}if(void 0!==e.path){var p=e.path;a.absolutePath||s&&s.absolutePath||(p=removeDotSegments(p));void 0===i&&(p=p.replace(/^\/\//,"/%2F"));n.push(p)}if(void 0!==e.query){n.push("?");n.push(e.query)}if(void 0!==e.fragment){n.push("#");n.push(e.fragment)}return n.join("")}function resolveComponents(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a=arguments[3];var o={};if(!a){e=parse(serialize(e,t),t);r=parse(serialize(r,t),t)}t=t||{};if(!t.tolerant&&r.scheme){o.scheme=r.scheme;o.userinfo=r.userinfo;o.host=r.host;o.port=r.port;o.path=removeDotSegments(r.path||"");o.query=r.query}else{if(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port){o.userinfo=r.userinfo;o.host=r.host;o.port=r.port;o.path=removeDotSegments(r.path||"");o.query=r.query}else{if(r.path){if("/"===r.path.charAt(0))o.path=removeDotSegments(r.path);else{void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:o.path=r.path:o.path="/"+r.path;o.path=removeDotSegments(o.path)}o.query=r.query}else{o.path=e.path;void 0!==r.query?o.query=r.query:o.query=e.query}o.userinfo=e.userinfo;o.host=e.host;o.port=e.port}o.scheme=e.scheme}o.fragment=r.fragment;return o}function resolve(e,r,t){var a=assign({scheme:"null"},t);return serialize(resolveComponents(parse(e,a),parse(r,a),a,true),a)}function normalize(e,r){"string"===typeof e?e=serialize(parse(e,r),r):"object"===typeOf(e)&&(e=parse(serialize(e,r),r));return e}function equal(e,r,t){"string"===typeof e?e=serialize(parse(e,t),t):"object"===typeOf(e)&&(e=serialize(e,t));"string"===typeof r?r=serialize(parse(r,t),t):"object"===typeOf(r)&&(r=serialize(r,t));return e===r}function escapeComponent(e,a){return e&&e.toString().replace(a&&a.iri?t.ESCAPE:r.ESCAPE,pctEncChar)}function unescapeComponent(e,a){return e&&e.toString().replace(a&&a.iri?t.PCT_ENCODED:r.PCT_ENCODED,pctDecChars)}var R={scheme:"http",domainHost:true,parse:function parse(e,r){e.host||(e.error=e.error||"HTTP URIs must have a host.");return e},serialize:function serialize(e,r){var t="https"===String(e.scheme).toLowerCase();e.port!==(t?443:80)&&""!==e.port||(e.port=void 0);e.path||(e.path="/");return e}};var q={scheme:"https",domainHost:R.domainHost,parse:R.parse,serialize:R.serialize};function isSecure(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var $={scheme:"ws",domainHost:true,parse:function parse(e,r){var t=e;t.secure=isSecure(t);t.resourceName=(t.path||"/")+(t.query?"?"+t.query:"");t.path=void 0;t.query=void 0;return t},serialize:function serialize(e,r){e.port!==(isSecure(e)?443:80)&&""!==e.port||(e.port=void 0);if("boolean"===typeof e.secure){e.scheme=e.secure?"wss":"ws";e.secure=void 0}if(e.resourceName){var t=e.resourceName.split("?"),o=a(t,2),n=o[0],s=o[1];e.path=n&&"/"!==n?n:void 0;e.query=s;e.resourceName=void 0}e.fragment=void 0;return e}};var H={scheme:"wss",domainHost:$.domainHost,parse:$.parse,serialize:$.serialize};var j={};var L=true;var M="[A-Za-z0-9\\-\\.\\_\\~"+(L?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]";var V="[0-9A-Fa-f]";var Z=subexp(subexp("%[EFef]"+V+"%"+V+V+"%"+V+V)+"|"+subexp("%[89A-Fa-f]"+V+"%"+V+V)+"|"+subexp("%"+V+V));var k="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]";var G="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]";var Q=merge(G,'[\\"\\\\]');var Y="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]";var B=new RegExp(M,"g");var J=new RegExp(Z,"g");var K=new RegExp(merge("[^]",k,"[\\.]",'[\\"]',Q),"g");var W=new RegExp(merge("[^]",M,Y),"g");var X=W;function decodeUnreserved(e){var r=pctDecChars(e);return r.match(B)?r:e}var ee={scheme:"mailto",parse:function parse$$1(e,r){var t=e;var a=t.to=t.path?t.path.split(","):[];t.path=void 0;if(t.query){var o=false;var n={};var s=t.query.split("&");for(var i=0,p=s.length;i<p;++i){var u=s[i].split("=");switch(u[0]){case"to":var c=u[1].split(",");for(var v=0,l=c.length;v<l;++v)a.push(c[v]);break;case"subject":t.subject=unescapeComponent(u[1],r);break;case"body":t.body=unescapeComponent(u[1],r);break;default:o=true;n[unescapeComponent(u[0],r)]=unescapeComponent(u[1],r);break}}o&&(t.headers=n)}t.query=void 0;for(var h=0,f=a.length;h<f;++h){var d=a[h].split("@");d[0]=unescapeComponent(d[0]);if(r.unicodeSupport)d[1]=unescapeComponent(d[1],r).toLowerCase();else try{d[1]=I.toASCII(unescapeComponent(d[1],r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}a[h]=d.join("@")}return t},serialize:function serialize$$1(e,r){var t=e;var a=toArray(e.to);if(a){for(var o=0,n=a.length;o<n;++o){var s=String(a[o]);var i=s.lastIndexOf("@");var p=s.slice(0,i).replace(J,decodeUnreserved).replace(J,toUpperCase).replace(K,pctEncChar);var u=s.slice(i+1);try{u=r.iri?I.toUnicode(u):I.toASCII(unescapeComponent(u,r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}a[o]=p+"@"+u}t.path=a.join(",")}var c=e.headers=e.headers||{};e.subject&&(c.subject=e.subject);e.body&&(c.body=e.body);var v=[];for(var l in c)c[l]!==j[l]&&v.push(l.replace(J,decodeUnreserved).replace(J,toUpperCase).replace(W,pctEncChar)+"="+c[l].replace(J,decodeUnreserved).replace(J,toUpperCase).replace(X,pctEncChar));v.length&&(t.query=v.join("&"));return t}};var re=/^([^\:]+)\:(.*)/;var te={scheme:"urn",parse:function parse$$1(e,r){var t=e.path&&e.path.match(re);var a=e;if(t){var o=r.scheme||a.scheme||"urn";var n=t[1].toLowerCase();var s=t[2];var i=o+":"+(r.nid||n);var p=O[i];a.nid=n;a.nss=s;a.path=void 0;p&&(a=p.parse(a,r))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function serialize$$1(e,r){var t=r.scheme||e.scheme||"urn";var a=e.nid;var o=t+":"+(r.nid||a);var n=O[o];n&&(e=n.serialize(e,r));var s=e;var i=e.nss;s.path=(a||r.nid)+":"+i;return s}};var ae=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;var oe={scheme:"urn:uuid",parse:function parse(e,r){var t=e;t.uuid=t.nss;t.nss=void 0;r.tolerant||t.uuid&&t.uuid.match(ae)||(t.error=t.error||"UUID is not valid.");return t},serialize:function serialize(e,r){var t=e;t.nss=(e.uuid||"").toLowerCase();return t}};O[R.scheme]=R;O[q.scheme]=q;O[$.scheme]=$;O[H.scheme]=H;O[ee.scheme]=ee;O[te.scheme]=te;O[oe.scheme]=oe;e.SCHEMES=O;e.pctEncChar=pctEncChar;e.pctDecChars=pctDecChars;e.parse=parse;e.removeDotSegments=removeDotSegments;e.serialize=serialize;e.resolveComponents=resolveComponents;e.resolve=resolve;e.normalize=normalize;e.equal=equal;e.escapeComponent=escapeComponent;e.unescapeComponent=unescapeComponent;Object.defineProperty(e,"__esModule",{value:true})}));const r=e.SCHEMES,t=e.pctEncChar,a=e.pctDecChars,o=e.parse,n=e.removeDotSegments,s=e.serialize,i=e.resolveComponents,p=e.resolve,u=e.normalize,c=e.equal,v=e.escapeComponent,l=e.unescapeComponent,h=e.__esModule;export default e;export{r as SCHEMES,h as __esModule,c as equal,v as escapeComponent,u as normalize,o as parse,a as pctDecChars,t as pctEncChar,n as removeDotSegments,p as resolve,i as resolveComponents,s as serialize,l as unescapeComponent};

