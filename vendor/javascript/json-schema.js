var e={};(function(r,t){e?e=t():r.jsonSchema=t()})(e,(function(){var e=validate;e.Integer={type:"integer"};var r={String:String,Boolean:Boolean,Number:Number,Object:Object,Array:Array,Date:Date};e.validate=validate;function validate(e,r){return validate(e,r,{changing:false})}e.checkPropertyChange=function(e,r,t){return validate(e,r,{changing:t||"property"})};validate=e._validate=function(e,t,a){a||(a={});var n=a.changing;function getType(e){return e.type||r[e.name]==e&&e.name.toLowerCase()}var o=[];function checkProp(e,r,t,i){var c;t+=t?"number"==typeof i?"["+i+"]":"undefined"==typeof i?"":"."+i:i;function addError(e){o.push({property:t,message:e})}if(("object"!=typeof r||r instanceof Array)&&(t||"function"!=typeof r)&&!(r&&getType(r))){"function"==typeof r?e instanceof r||addError("is not an instance of the class/constructor "+r.name):r&&addError("Invalid schema/property definition "+r);return null}n&&r.readonly&&addError("is a readonly field, it can not be changed");r.extends&&checkProp(e,r.extends,t,i);function checkType(e,r){if(e){if("string"==typeof e&&"any"!=e&&("null"==e?null!==r:typeof r!=e)&&!(r instanceof Array&&"array"==e)&&!(r instanceof Date&&"date"==e)&&!("integer"==e&&r%1===0))return[{property:t,message:r+" - "+typeof r+" value found, but a "+e+" is required"}];if(e instanceof Array){var a=[];for(var n=0;n<e.length;n++)if(!(a=checkType(e[n],r)).length)break;if(a.length)return a}else if("object"==typeof e){var i=o;o=[];checkProp(r,e,t);var c=o;o=i;return c}}return[]}if(void 0===e)r.required&&addError("is missing and it is required");else{o=o.concat(checkType(getType(r),e));r.disallow&&!checkType(r.disallow,e).length&&addError(" disallowed value was matched");if(null!==e){if(e instanceof Array){if(r.items){var s=r.items instanceof Array;var m=r.items;for(i=0,c=e.length;i<c;i+=1){s&&(m=r.items[i]);a.coerce&&(e[i]=a.coerce(e[i],m));o.concat(checkProp(e[i],m,t,i))}}r.minItems&&e.length<r.minItems&&addError("There must be a minimum of "+r.minItems+" in the array");r.maxItems&&e.length>r.maxItems&&addError("There must be a maximum of "+r.maxItems+" in the array")}else(r.properties||r.additionalProperties)&&o.concat(checkObj(e,r.properties,t,r.additionalProperties));r.pattern&&"string"==typeof e&&!e.match(r.pattern)&&addError("does not match the regex pattern "+r.pattern);r.maxLength&&"string"==typeof e&&e.length>r.maxLength&&addError("may only be "+r.maxLength+" characters long");r.minLength&&"string"==typeof e&&e.length<r.minLength&&addError("must be at least "+r.minLength+" characters long");"undefined"!==typeof r.minimum&&typeof e==typeof r.minimum&&r.minimum>e&&addError("must have a minimum value of "+r.minimum);"undefined"!==typeof r.maximum&&typeof e==typeof r.maximum&&r.maximum<e&&addError("must have a maximum value of "+r.maximum);if(r.enum){var d=r.enum;c=d.length;var p;for(var f=0;f<c;f++)if(d[f]===e){p=1;break}p||addError("does not have a value in the enumeration "+d.join(", "))}"number"==typeof r.maxDecimal&&e.toString().match(new RegExp("\\.[0-9]{"+(r.maxDecimal+1)+",}"))&&addError("may only have "+r.maxDecimal+" digits of decimal places")}}return null}function checkObj(e,r,t,i){if("object"==typeof r){("object"!=typeof e||e instanceof Array)&&o.push({property:t,message:"an object is required"});for(var c in r)if(r.hasOwnProperty(c)&&"__proto__"!=c&&"constructor"!=c){var s=e.hasOwnProperty(c)?e[c]:void 0;if(void 0===s&&a.existingOnly)continue;var m=r[c];void 0===s&&m.default&&(s=e[c]=m.default);a.coerce&&c in e&&(s=e[c]=a.coerce(s,m));checkProp(s,m,t,c)}}for(c in e){if(e.hasOwnProperty(c)&&!("_"==c.charAt(0)&&"_"==c.charAt(1))&&r&&!r[c]&&false===i){if(a.filter){delete e[c];continue}o.push({property:t,message:"The property "+c+" is not defined in the schema and the schema does not allow additional properties"})}var d=r&&r[c]&&r[c].requires;d&&!(d in e)&&o.push({property:t,message:"the presence of the property "+c+" requires that "+d+" also be present"});s=e[c];if(i&&(!(r&&"object"==typeof r)||!(c in r))){a.coerce&&(s=e[c]=a.coerce(s,i));checkProp(s,i,t,c)}!n&&s&&s.$schema&&(o=o.concat(checkProp(s,s.$schema,t,c)))}return o}t&&checkProp(e,t,"",n||"");!n&&e&&e.$schema&&checkProp(e,e.$schema,"","");return{valid:!o.length,errors:o}};e.mustBeValid=function(e){if(!e.valid)throw new TypeError(e.errors.map((function(e){return"for property "+e.property+": "+e.message})).join(", \n"))};return e}));var r=e;const t=e.Integer,a=e.validate,n=e.checkPropertyChange,o=e._validate,i=e.mustBeValid;export{t as Integer,o as _validate,n as checkPropertyChange,r as default,i as mustBeValid,a as validate};

